{
    "app-id": "org.freedesktop.Bustle",
    "runtime": "org.gnome.Platform",
    "runtime-version": "3.26",
    "sdk": "org.gnome.Sdk",
    "writable-sdk": true,
    "command": "bustle",
    "finish-args": [
        "--socket=x11",
        "--socket=wayland",
        "--socket=system-bus",
        "--socket=session-bus",
        "--share=ipc",
        "--filesystem=host"
    ],
    "build-options": {
        "strip": false,
        "no-debuginfo": true
    },
    "cleanup": [
        "*.a",
        "*.h",
        "/share/man/man?/pcap*",
        "/bin/pcap-config"
    ],
    "modules": [
        {
            "name": "haskell-platform",
            "only-arches": [
                "x86_64"
            ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://haskell.org/platform/download/8.2.1/haskell-platform-8.2.1-unknown-posix--full-x86_64.tar.gz",
                    "sha256": "bb5629af143e7d257cb1f3710874f2ca17d1090cc6e5c1c2b80003bc37e0b9ec",
                    "strip-components": 0
                },
                {
                    "type": "file",
                    "path": "activate-hs.patch"
                }
            ],
            "buildsystem": "simple",
            "build-commands": [
                "tar -C / -xf hp-usr-local.tar.gz",
                "patch /usr/local/haskell/ghc-8.2.1-x86_64/bin/activate-hs activate-hs.patch",
                "/usr/local/haskell/ghc-8.2.1-x86_64/bin/activate-hs --verbose --prefix /usr"
            ]
        },
        {
            "name": "haskell-platform",
            "only-arches": [
                "i386"
            ],
            "sources": [
                {
                    "type": "archive",
                    "url": "https://haskell.org/platform/download/8.2.1/haskell-platform-8.2.1-unknown-posix--full-i386.tar.gz",
                    "sha256": "1b2a3ec99cd9dfd491253496ee368500b5ff3d039e043158ea51ae3e855719a4",
                    "strip-components": 0
                },
                {
                    "type": "file",
                    "path": "activate-hs.patch"
                }
            ],
            "buildsystem": "simple",
            "build-commands": [
                "tar -C / -xf hp-usr-local.tar.gz",
                "patch /usr/local/haskell/ghc-8.2.1-i386/bin/activate-hs activate-hs.patch",
                "/usr/local/haskell/ghc-8.2.1-i386/bin/activate-hs --verbose --prefix /usr"
            ]
        },
        {
            "name": "libpcap",
            "sources": [
                {
                    "type": "git",
                    "url": "https://github.com/the-tcpdump-group/libpcap.git",
                    "commit": "c955dc6facab1cca6b5b82c9274f295a58065ba0"
                }
            ]
        },
        {
            "name": "haskell-pcap",
            "sources": [
                {
                    "type": "archive",
                    "url": "https://hackage.haskell.org/package/pcap-0.4.5.2/pcap-0.4.5.2.tar.gz",
                    "sha256": "e7e92e6ff4bffa22102335a38dabb97fd0771fdf3b75d45cd7c1708c85e1cd5f"
                },
                {
                    "type": "file",
                    "path": "Makefile"
                }
            ]
        },
        {
            "name": "haskell-hashtables",
            "sources": [
                {
                    "type": "archive",
                    "url": "http://hackage.haskell.org/package/hashtables-1.2.2.1/hashtables-1.2.2.1.tar.gz",
                    "sha256": "7aad530a9acca57ebe58774876c5a32e13f9c4ea37e80aa50c9be9ca88dcf6bc"
                },
                {
                    "type": "file",
                    "path": "Makefile"
                }
            ],
            "no-autogen": true
        },
        {
            "name": "haskell-utf8-string",
            "sources": [
                {
                    "type": "git",
                    "url": "https://github.com/glguy/utf8-string.git",
                    "commit": "58f5636d419e942784996d117bc5ee00a2ecdabc"
                },
                {
                    "type": "file",
                    "path": "Makefile"
                }
            ],
            "no-autogen": true
        },
        {
            "name": "haskell-gtk2hs",
            "sources": [
                {
                    "type": "git",
                    "url": "https://github.com/gtk2hs/gtk2hs",
                    "commit": "f066503df2c6d8d57e06630615d2097741d09d39"
                },
                {
                    "type": "file",
                    "path": "Makefile"
                }
            ],
            "make-args": [
                "build-tools",
                "build-glib",
                "build-gio",
                "build-cairo",
                "build-pango",
                "build-gtk"
            ],
            "no-autogen": true
        },
        {
            "name": "haskell-xml-types",
            "sources": [
                {
                    "type": "archive",
                    "url": "https://hackage.haskell.org/package/xml-types-0.3.6/xml-types-0.3.6.tar.gz",
                    "sha256": "9937d440072552c03c6d8ad79f61e61467dc28dcd5adeaad81038b9b94eef8c9"
                },
                {
                    "type": "file",
                    "path": "Makefile"
                }
            ],
            "no-autogen": true
        },
        {
            "name": "haskell-libxml-sax",
            "sources": [
                {
                    "type": "archive",
                    "url": "https://hackage.haskell.org/package/libxml-sax-0.7.5/libxml-sax-0.7.5.tar.gz",
                    "sha256": "99141784cc0d6c5749f0df618b2d46922391eede09f4f9ccfc36fb58a9c16d51"
                },
                {
                    "type": "file",
                    "path": "Makefile"
                }
            ],
            "no-autogen": true
        },
        {
            "name": "haskell-cereal",
            "sources": [
                {
                    "type": "archive",
                    "url": "https://hackage.haskell.org/package/cereal-0.5.4.0/cereal-0.5.4.0.tar.gz",
                    "sha256": "daca6c5aeff21ca233bebe006c158b0e4421b239c722768b568fca9b32cafee7"
                },
                {
                    "type": "file",
                    "path": "Makefile"
                }
            ],
            "no-autogen": true
        },
        {
            "name": "haskell-dbus",
            "sources": [
                {
                    "type": "archive",
                    "url": "https://hackage.haskell.org/package/dbus-0.10.13/dbus-0.10.13.tar.gz",
                    "sha256": "aa94aefba8a0be240faddec88442afd8db1fa4e994423d474b112ec1c67e7aca"
                },
                {
                    "type": "file",
                    "path": "Makefile"
                }
            ],
            "no-autogen": true
        },
        {
            "name": "haskell-uniplate",
            "sources": [
                {
                    "type": "archive",
                    "url": "https://hackage.haskell.org/package/uniplate-1.6.12/uniplate-1.6.12.tar.gz",
                    "sha256": "fcc60bc6b3f6e925f611646db90e6db9f05286a9363405f844df1dc15572a8b7"
                },
                {
                    "type": "file",
                    "path": "Makefile"
                }
            ],
            "no-autogen": true
        },
        {
            "name": "haskell-old-locale",
            "sources": [
                {
                    "type": "archive",
                    "url": "https://hackage.haskell.org/package/old-locale-1.0.0.7/old-locale-1.0.0.7.tar.gz",
                    "sha256": "dbaf8bf6b888fb98845705079296a23c3f40ee2f449df7312f7f7f1de18d7b50"
                },
                {
                    "type": "file",
                    "url": "https://hackage.haskell.org/package/old-locale-1.0.0.7/old-locale.cabal",
                    "sha256": "fa998be2c7e00cd26a6e9075bea790caaf3932caa3e9497ad69bc20380dd6911"
                },
                {
                    "type": "file",
                    "path": "Makefile"
                }
            ],
            "no-autogen": true
        },
        {
            "name": "haskell-old-time",
            "sources": [
                {
                    "type": "archive",
                    "url": "https://hackage.haskell.org/package/old-time-1.1.0.3/old-time-1.1.0.3.tar.gz",
                    "sha256": "1ccb158b0f7851715d36b757c523b026ca1541e2030d02239802ba39b4112bc1"
                },
                {
                    "type": "file",
                    "url": "https://hackage.haskell.org/package/old-time-1.1.0.3/old-time.cabal",
                    "sha256": "c91fbb3ee73d20ccd015842b30f1f29a304893ebe0ae3128b7bbc13d5bb0d4c8"
                },
                {
                    "type": "file",
                    "path": "Makefile"
                }
            ],
            "no-autogen": true
        },
        {
            "name": "haskell-polyparse",
            "sources": [
                {
                    "type": "archive",
                    "url": "https://hackage.haskell.org/package/polyparse-1.12/polyparse-1.12.tar.gz",
                    "sha256": "f54c63584ace968381de4a06bd7328b6adc3e1a74fd336e18449e0dd7650be15"
                },
                {
                    "type": "file",
                    "path": "Makefile"
                }
            ],
            "no-autogen": true
        },
        {
            "name": "haskell-cpphs",
            "sources": [
                {
                    "type": "archive",
                    "url": "https://hackage.haskell.org/package/cpphs-1.20.8/cpphs-1.20.8.tar.gz",
                    "sha256": "e56d64a7d8058e0fb63f0669397c1c861efb20a0376e0e74d86942ac151105ae"
                },
                {
                    "type": "file",
                    "path": "Makefile"
                }
            ],
            "no-autogen": true
        },
        {
            "name": "haskell-src-exts",
            "sources": [
                {
                    "type": "archive",
                    "url": "https://hackage.haskell.org/package/haskell-src-exts-1.20.1/haskell-src-exts-1.20.1.tar.gz",
                    "sha256": "48a9fffca2e44f7080526739a61eb7bc2b933dbf8efe4ab063b7092561a252cb"
                },
                {
                    "type": "file",
                    "path": "Makefile"
                }
            ],
            "no-autogen": true
        },
        {
            "name": "haskell-setlocale",
            "sources": [
                {
                    "type": "archive",
                    "url": "https://hackage.haskell.org/package/setlocale-1.0.0.5/setlocale-1.0.0.5.tar.gz",
                    "sha256": "57438491475004eda12d7a73eea0ab1c5fb28774027626e5bbcb142fe57d9ff0"
                },
                {
                    "type": "file",
                    "path": "Makefile"
                }
            ],
            "no-autogen": true
        },
        {
            "name": "haskell-hgettext",
            "sources": [
                {
                    "type": "archive",
                    "url": "https://hackage.haskell.org/package/hgettext-0.1.31.0/hgettext-0.1.31.0.tar.gz",
                    "sha256": "d51fb618f414441f573d96c1bc41fcec80976a4a80453d571683cf49e57df368"
                },
                {
                    "type": "file",
                    "path": "Makefile"
                }
            ],
            "no-autogen": true
        },
        {
            "name": "help2man",
            "sources": [
                {
                    "type": "archive",
                    "url": "http://ftpmirror.gnu.org/help2man/help2man-1.47.4.tar.xz",
                    "sha256": "d4ecf697d13f14dd1a78c5995f06459bff706fd1ce593d1c02d81667c0207753"
                }
            ],
            "build-options": {
                "prefix": "/usr"
            }
        },
        {
            "name": "bustle",
            "sources": [
                {
                    "type": "git",
                    "url": "https://anongit.freedesktop.org/git/bustle.git",
                    "branch": "bustle-0.6.2",
                    "commit": "8d28d43e84af1ca8586481b576bf1bcfedc5fea9"
                }
            ],
            "buildsystem": "simple",
            "build-commands": [
                "make install PREFIX=/app DESTDIR=/",
                "mkdir -p $HOME/.cabal && touch $HOME/.cabal/config && cabal install --prefix=/app"
            ]
        }
    ]
}
